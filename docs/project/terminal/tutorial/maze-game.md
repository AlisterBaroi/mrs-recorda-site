# 迷宫游戏

本教程将演示制作一款简易的终端游戏：

- 有一个 $10\times 10$ 的迷宫。
- 可以控制角色到达终点。

## 流程

代码的大致流程如下：

```cpp
init();
print();
while(!check())
{
	move();
	print();
}
```

- `init()`：初始化
- `print()`：打印地图
- `check()`：判断结束
- `move()`：玩家移动

## 地图

### 创建地图

定义一个常量 $N=10$，表示迷宫地图的大小。

再定义一个 $N\times N$ 的数组 $a$ 存储地图。

```cpp
const int N=10;
int a[N][N];
```

此时我们可以随意编写地图，并赋予数字意义：

- $0$：空地（可以经过）。
- $1$：墙壁（无法经过）。

```cpp
int a[N][N]=
{
	{1,1,1,1,1,1,1,1,1,1},
	{1,0,0,0,0,0,0,0,0,1},
	{1,1,1,0,1,0,1,1,1,1},
	{1,0,0,0,1,0,0,0,0,1},
	{1,0,1,0,1,1,1,1,0,1},
	{1,0,1,0,0,0,0,0,0,1},
	{1,0,1,0,1,0,1,1,0,1},
	{1,0,0,0,1,0,1,1,0,1},
	{1,0,1,0,1,0,0,0,0,1},
	{1,1,1,1,1,1,1,1,1,1}
};
```

### 打印地图（`print()`）

打印地图，先清空屏幕，再逐行输出数组即可。

```cpp
void print()
{
	system("cls");
	for(int i=0;i<N;i++)
	{
		for(int j=0;j<N;j++)
		{
			printf("%d ",a[i][j]);
		}
		printf("\n");
	}
}
```

## 玩家

### 创建玩家

定义两个变量 $x$ 和 $y$，表示玩家当前的坐标为 $(x,y)$。

```cpp
int x,y;
```

### 初始化（`init()`）

将玩家位置设置为出生点 $(1,1)$。

```cpp
void init()
{
	x=1;
	y=1;
}
```

## 事件

### 判断结束

返回玩家位置是否在目标点 $(8,8)$。

```cpp
bool check()
{
	return x==8&&y==8;
}
```

### 玩家移动

将 $x,y$ 备份为 $x_1,y_1$。

然后使用 `getch()` 函数读取一个字符。

```cpp
int x1=x,y1=y;
char f=getch();
```

:::tip

`getch()` 相比直接输入，不需要按回车键，可以减少玩家操作复杂度。

`getch()` 函数需要头文件 `#include <conio.h>`

:::

分别判断 $f$ 是否为 `w`、`a`、`s` 和 `d`。

如果是某个字符，将 $x_1$ 或 $y_1$ 移动 $1$。

判断 $a_{x_1,y_1}$ 是否等于 $0$。

如果是，就让 $x,y$ 等于 $x_1,y_1$。

## 完整代码

```cpp

```
